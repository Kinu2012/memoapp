# memoapp

SQLite (sql.js) を使った、ブラウザ上で動作するメモアプリです。
ローカルストレージにデータを保存するため、オフライン環境でも使えます。

## 主な機能

- メモの新規作成、編集、削除
- 入力内容の保存（localStorage + SQLite）
- 保存状態の表示（変更あり / 保存中 / 保存しました）
- タイトルをクリックするとメモ詳細を右側に表示
- 保存されたデータはページ再読み込み後も保持

## 使用技術

- HTML / CSS / JavaScript
- [SQL.js](https://github.com/sql-js/sql.js) (SQLiteをブラウザ上で動かすライブラリ)
- LocalStorage（データ永続化）

## 使い方

このアプリはブラウザだけで動作します。

1. `index.html` をブラウザで開くだけで使えます
2. インストールやビルド作業は不要です

※ メモはブラウザ内に保存されます。他の端末からはアクセスできません。

## ファイル構成

- `index.html` … UI とスクリプト読み込み
- `style.css` … スタイル設定
- `main.js` … アプリのメインロジック

## 工夫した点

- **保存処理の安定性を向上**  
  メモの保存時に `try/catch` を使って、エラーが出てもアプリが止まらないようにしました。  
  タイムスタンプ付きと、最小限の内容保存の2段構えで対応しています。

- **SQLiteとlocalStorageを組み合わせた永続化**  
  データベースは SQLite（sql.js）で構築し、保存はlocalStorageを使っているため、  
  ページを閉じてもデータが失われません。再読み込みでも元通りです。

- **ユーザーにわかりやすい保存状態の表示**  
  「変更あり」「保存中...」「保存しました」などの状態を表示することで、  
  編集内容がちゃんと反映されたかをユーザーが確認できるようにしました。

- **選択中のメモのハイライト表示**  
  現在編集中のメモをリスト上でわかりやすくするために、CSSでハイライト処理を追加しました。

- **データベース破損対策**  
  localStorageからの復元に失敗した場合、自動的に新しいデータベースを作成するようにしています。

